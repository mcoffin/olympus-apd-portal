<mat-menu #accountMenu="matMenu" yPosition="below">
	<button (click)="logout()" mat-menu-item><mat-icon>exit_to_app</mat-icon><span>Logout</span></button>
</mat-menu>
<mat-toolbar class="top-toolbar mat-elevation-z2" color="primary">
	<button [hidden]="!loggedIn" mat-icon-button (click)="sidenav.toggle()"><mat-icon>menu</mat-icon></button>
	<button routerLink="/" mat-button><h2>Olympus APD Portal</h2></button>
	<span class="dynamic-spacer"></span>
	<button [hidden]="!loggedIn" mat-icon-button [matMenuTriggerFor]="accountMenu">
		<mat-icon>account_box</mat-icon>
	</button>
</mat-toolbar>
<mat-sidenav-container class="after-toolbar">
	<mat-sidenav #sidenav mode="push" [opened]="loggedIn" class="main-sidenav">
		<!--
		<div class="sidenav-item-list">
			<span class="sidenav-header apd-primary-darker">FACTIONS</span>
			<a *ngFor="let faction of factions" [color]="loc.isCurrentPathEqualTo('/faction/' + faction.id) ? 'accent' : null" [class.mat-raised-button]="loc.isCurrentPathEqualTo('/faction/' + faction.id) ? 'accent' : null" [routerLink]="'/faction/' + faction.id" mat-button>{{faction.name}}</a>
			<span class="sidenav-header apd-primary-darker">GANGS</span>
			<a [color]="loc.isCurrentPathEqualTo('/gang') ? 'accent' : null" [class.mat-raised-button]="loc.isCurrentPathEqualTo('/gang')" routerLink="/gang" mat-button>Black Flag Operators</a>
		</div>
		-->
		<sidenav-router>
			<div sidenav-router-header>FACTIONS</div>
			<a *ngFor="let faction of factions" [routerLink]="'/faction/' + faction.id" [routerLinkActive]="['mat-elevation-z8', 'sidenav-router-item-active']" sidenav-router-item mat-button>{{faction.name}}</a>
			<div sidenav-router-header>GANGS</div>
			<a routerLink="/gang" [routerLinkActive]="['mat-elevation-z8', 'sidenav-router-item-active']" sidenav-router-item mat-button>Black Flag Ops</a>
		</sidenav-router>
	</mat-sidenav>
	<mat-sidenav-content>
		<div class="route-container">
			<router-outlet *ngIf="loggedIn"></router-outlet>
			<login *ngIf="!loggedIn"></login>
		</div>
	</mat-sidenav-content>
</mat-sidenav-container>
